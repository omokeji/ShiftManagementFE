<!-- meta tags and other links -->
<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MaxiCare Admin Booking</title>
  <link rel="icon" type="image/png" href="assets/images/favicon.png" sizes="16x16">
  <!-- remix icon font css  -->
  <link rel="stylesheet" href="assets/css/remixicon.css">
  <!-- BootStrap css -->
  <link rel="stylesheet" href="assets/css/lib/bootstrap.min.css">
  <!-- Apex Chart css -->
  <link rel="stylesheet" href="assets/css/lib/apexcharts.css">
  <!-- Data Table css -->
  <link rel="stylesheet" href="assets/css/lib/dataTables.min.css">
  <!-- Text Editor css -->
  <link rel="stylesheet" href="assets/css/lib/editor-katex.min.css">
  <link rel="stylesheet" href="assets/css/lib/editor.atom-one-dark.min.css">
  <link rel="stylesheet" href="assets/css/lib/editor.quill.snow.css">
  <!-- Date picker css -->
  <link rel="stylesheet" href="assets/css/lib/flatpickr.min.css">
  <!-- Calendar css -->
  <link rel="stylesheet" href="assets/css/lib/full-calendar.css">
  <!-- Shift Management css -->
  <link rel="stylesheet" href="assets/css/shift-management.css">
  <!-- Vector Map css -->
  <link rel="stylesheet" href="assets/css/lib/jquery-jvectormap-2.0.5.css">
  <!-- Popup css -->
  <link rel="stylesheet" href="assets/css/lib/magnific-popup.css">
  <!-- Slick Slider css -->
  <link rel="stylesheet" href="assets/css/lib/slick.css">
  <!-- prism css -->
  <link rel="stylesheet" href="assets/css/lib/prism.css">
  <!-- file upload css -->
  <link rel="stylesheet" href="assets/css/lib/file-upload.css">

  <link rel="stylesheet" href="assets/css/lib/audioplayer.css">
  <!-- main css -->
  <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
  <aside class="sidebar">
    <button type="button" class="sidebar-close-btn">
      <iconify-icon icon="radix-icons:cross-2"></iconify-icon>
    </button>
    <div>
      <a href="index.html" class="sidebar-logo">
        <img src="assets/images/logo.png" alt="site logo" class="light-logo">
        <img src="assets/images/logo-light.png" alt="site logo" class="dark-logo">
        <img src="assets/images/logo-icon.png" alt="site logo" class="logo-icon">
      </a>
    </div>
    <div class="sidebar-menu-area">
      <ul class="sidebar-menu" id="sidebar-menu">
        <li>
          <a href="index.html">
            <iconify-icon icon="solar:home-smile-angle-outline" class="menu-icon"></iconify-icon>
            <span>Dashboard</span>
          </a>
        </li>
        <li>
          <a href="calendar-main.html">
            <iconify-icon icon="solar:calendar-outline" class="menu-icon"></iconify-icon>
            <span>Calendar</span>
          </a>
        </li>
        <li class="dropdown admin-only">
          <a href="javascript:void(0)">
            <iconify-icon icon="flowbite:users-group-outline" class="menu-icon"></iconify-icon>
            <span>Users</span>
          </a>
          <ul class="sidebar-submenu">
            <li>
              <a href="users-list.html"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Users
                List</a>
            </li>
            <li>
              <a href="add-user.html"><i class="ri-circle-fill circle-icon text-info-main w-auto"></i> Add User</a>
            </li>
            <li>
              <a href="view-profile.html"><i class="ri-circle-fill circle-icon text-danger-main w-auto"></i> View
                Profile</a>
            </li>
          </ul>
        </li>

        <li class="dropdown admin-only">
          <a href="javascript:void(0)">
            <i class="ri-user-settings-line text-xl me-14 d-flex w-auto"></i>
            <span>Role & Access</span>
          </a>
          <ul class="sidebar-submenu">
            <li>
              <a href="role-access.html"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Role &
                Access</a>
            </li>
            <li>
              <a href="assign-role.html"><i class="ri-circle-fill circle-icon text-warning-main w-auto"></i> Assign
                Role</a>
            </li>
          </ul>
        </li>

        <li class="dropdown admin-only">
          <a href="javascript:void(0)">
            <iconify-icon icon="solar:briefcase-outline" class="menu-icon"></iconify-icon>
            <span>Job Types</span>
          </a>
          <ul class="sidebar-submenu">
            <li>
              <a href="job-types.html"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Job Types List</a>
            </li>
            <li>
              <a href="add-job-type.html"><i class="ri-circle-fill circle-icon text-info-main w-auto"></i> Add Job Type</a>
            </li>
          </ul>
        </li>

        <li class="dropdown admin-only">
          <a href="javascript:void(0)">
            <iconify-icon icon="solar:clock-circle-outline" class="menu-icon"></iconify-icon>
            <span>Shift Management</span>
          </a>
          <ul class="sidebar-submenu">
            <li>
              <a href="add-shift.html"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Add Shift</a>
            </li>
            <li>
              <a href="view-shifts.html"><i class="ri-circle-fill circle-icon text-info-main w-auto"></i> View Shifts</a>
            </li>
          </ul>
        </li>

        <li class="employee-only">
          <a href="my-shifts.html">
            <iconify-icon icon="solar:clock-circle-outline" class="menu-icon"></iconify-icon>
            <span>My Shifts</span>
          </a>
        </li>

        <li class="employee-only">
          <a href="available-shifts.html">
            <iconify-icon icon="solar:calendar-add-outline" class="menu-icon"></iconify-icon>
            <span>Available Shifts</span>
          </a>
        </li>
      </ul>
    </div>
  </aside>

  <main class="dashboard-main">
    <div class="navbar-header">
      <div class="row align-items-center justify-content-between">
        <div class="col-auto">
          <div class="d-flex flex-wrap align-items-center gap-4">
            <button type="button" class="sidebar-toggle">
              <iconify-icon icon="heroicons:bars-3-solid" class="icon text-2xl non-active"></iconify-icon>
              <iconify-icon icon="iconoir:arrow-right" class="icon text-2xl active"></iconify-icon>
            </button>
            <button type="button" class="sidebar-mobile-toggle">
              <iconify-icon icon="heroicons:bars-3-solid" class="icon"></iconify-icon>
            </button>
            <form class="navbar-search">
              <input type="text" name="search" placeholder="Search">
              <iconify-icon icon="ion:search-outline" class="icon"></iconify-icon>
            </form>
          </div>
        </div>
        <div class="col-auto">
          <div class="d-flex flex-wrap align-items-center gap-3">
            <button type="button" data-theme-toggle
              class="w-40-px h-40-px bg-neutral-200 rounded-circle d-flex justify-content-center align-items-center"></button>

            <div class="dropdown">
              <button
                class="has-indicator w-40-px h-40-px bg-neutral-200 rounded-circle d-flex justify-content-center align-items-center"
                type="button" data-bs-toggle="dropdown">
                <iconify-icon icon="iconoir:bell" class="text-primary-light text-xl"></iconify-icon>
              </button>
              <div class="dropdown-menu to-top dropdown-menu-lg p-0">
                <div
                  class="m-16 py-12 px-16 radius-8 bg-primary-50 mb-16 d-flex align-items-center justify-content-between gap-2">
                  <div>
                    <h6 class="text-lg text-primary-light fw-semibold mb-0">Notifications</h6>
                  </div>
                  <span
                    class="text-primary-600 fw-semibold text-lg w-40-px h-40-px rounded-circle bg-base d-flex justify-content-center align-items-center" id="notificationCount">0</span>
                </div>

                
                <div class="max-h-400-px overflow-y-auto scroll-sm pe-4" id="notificationsList">
                  <!-- Notifications will be loaded here -->
                  <div class="text-center py-3">
                    <div class="spinner-border text-primary" role="status">
                      <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-2 text-secondary-light text-sm">Loading notifications...</p>
                  </div>
                </div>
                    </div>
                    <span class="text-sm text-secondary-light flex-shrink-0">23 Mins ago</span>
                  </a>

                  <a href="javascript:void(0)"
                    class="px-24 py-12 d-flex align-items-start gap-3 mb-2 justify-content-between bg-neutral-50">
                    <div class="text-black hover-bg-transparent hover-text-primary d-flex align-items-center gap-3">
                      <span
                        class="w-44-px h-44-px bg-success-subtle text-success-main rounded-circle d-flex justify-content-center align-items-center flex-shrink-0">
                        <img src="assets/images/notification/profile-1.png" alt="">
                      </span>
                      <div>
                        <h6 class="text-md fw-semibold mb-4">Ronald Richards</h6>
                        <p class="mb-0 text-sm text-secondary-light text-w-200-px">You can stitch between artboards</p>
                      </div>
                    </div>
                    <span class="text-sm text-secondary-light flex-shrink-0">23 Mins ago</span>
                  </a>

                  <a href="javascript:void(0)"
                    class="px-24 py-12 d-flex align-items-start gap-3 mb-2 justify-content-between">
                    <div class="text-black hover-bg-transparent hover-text-primary d-flex align-items-center gap-3">
                      <span
                        class="w-44-px h-44-px bg-info-subtle text-info-main rounded-circle d-flex justify-content-center align-items-center flex-shrink-0">
                        AM
                      </span>
                      <div>
                        <h6 class="text-md fw-semibold mb-4">Arlene McCoy</h6>
                        <p class="mb-0 text-sm text-secondary-light text-w-200-px">Invite you to prototyping</p>
                      </div>
                    </div>
                    <span class="text-sm text-secondary-light flex-shrink-0">23 Mins ago</span>
                  </a>

                  <a href="javascript:void(0)"
                    class="px-24 py-12 d-flex align-items-start gap-3 mb-2 justify-content-between bg-neutral-50">
                    <div class="text-black hover-bg-transparent hover-text-primary d-flex align-items-center gap-3">
                      <span
                        class="w-44-px h-44-px bg-success-subtle text-success-main rounded-circle d-flex justify-content-center align-items-center flex-shrink-0">
                        <img src="assets/images/notification/profile-2.png" alt="">
                      </span>
                      <div>
                        <h6 class="text-md fw-semibold mb-4">Annette Black</h6>
                        <p class="mb-0 text-sm text-secondary-light text-w-200-px">Invite you to prototyping</p>
                      </div>
                    </div>
                    <span class="text-sm text-secondary-light flex-shrink-0">23 Mins ago</span>
                  </a>

                  <a href="javascript:void(0)"
                    class="px-24 py-12 d-flex align-items-start gap-3 mb-2 justify-content-between">
                    <div class="text-black hover-bg-transparent hover-text-primary d-flex align-items-center gap-3">
                      <span
                        class="w-44-px h-44-px bg-info-subtle text-info-main rounded-circle d-flex justify-content-center align-items-center flex-shrink-0">
                        DR
                      </span>
                      <div>
                        <h6 class="text-md fw-semibold mb-4">Darlene Robertson</h6>
                        <p class="mb-0 text-sm text-secondary-light text-w-200-px">Invite you to prototyping</p>
                      </div>
                    </div>
                    <span class="text-sm text-secondary-light flex-shrink-0">23 Mins ago</span>
                  </a>
                </div>

                <div class="text-center py-12 px-16">
                  <a href="javascript:void(0)" class="text-primary-600 fw-semibold text-md">See All Notification</a>
                </div>

              </div>
            </div><!-- Notification dropdown end -->

            <div class="dropdown">
              <button class="d-flex justify-content-center align-items-center rounded-circle" type="button"
                data-bs-toggle="dropdown">
                <img src="assets/images/user.png" alt="image" class="w-40-px h-40-px object-fit-cover rounded-circle">
              </button>
              <div class="dropdown-menu to-top dropdown-menu-sm">
                <div
                  class="py-12 px-16 radius-8 bg-primary-50 mb-16 d-flex align-items-center justify-content-between gap-2">
                  <div>
                    <h6 class="text-lg text-primary-light fw-semibold mb-2">Shaidul Islam</h6>
                    <span class="text-secondary-light fw-medium text-sm">Admin</span>
                  </div>
                  <button type="button" class="hover-text-danger">
                    <iconify-icon icon="radix-icons:cross-1" class="icon text-xl"></iconify-icon>
                  </button>
                </div>
                <ul class="to-top-list">
                  <li>
                    <a class="dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-primary d-flex align-items-center gap-3"
                      href="view-profile.html">
                      <iconify-icon icon="solar:user-linear" class="icon text-xl"></iconify-icon> My Profile</a>
                  </li>
                  <li>
                    <a class="dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-primary d-flex align-items-center gap-3"
                      href="email.html">
                      <iconify-icon icon="tabler:message-check" class="icon text-xl"></iconify-icon> Inbox</a>
                  </li>
                  <li>
                    <a class="dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-primary d-flex align-items-center gap-3"
                      href="company.html">
                      <iconify-icon icon="icon-park-outline:setting-two" class="icon text-xl"></iconify-icon>
                      Setting</a>
                  </li>
                  <li>
                    <a class="dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-danger d-flex align-items-center gap-3"
                      href="javascript:void(0)">
                      <iconify-icon icon="lucide:power" class="icon text-xl"></iconify-icon> Log Out</a>
                  </li>
                </ul>
              </div>
            </div><!-- Profile dropdown end -->
          </div>
        </div>
      </div>
    </div>

    <div class="dashboard-main-body">

      <div class="d-flex flex-wrap align-items-center justify-content-between gap-3 mb-24">
        <h6 class="fw-semibold mb-0">Calendar</h6>
        <ul class="d-flex align-items-center gap-2">
          <li class="fw-medium">
            <a href="index.html" class="d-flex align-items-center gap-1 hover-text-primary">
              <iconify-icon icon="solar:home-smile-angle-outline" class="icon text-lg"></iconify-icon>
              Dashboard
            </a>
          </li>
          <li>-</li>
          <li class="fw-medium">Components / Calendar</li>
        </ul>
      </div>
      <div class="row gy-4">
        <div class="col-xxl-3 col-lg-4">
          <div class="card h-100 p-0">
            <div class="card-body p-24">
              <button type="button"
                class="btn btn-primary text-sm btn-sm px-12 py-12 w-100 radius-8 d-flex align-items-center gap-2 mb-32"
                data-bs-toggle="modal" data-bs-target="#exampleModal">
                <iconify-icon icon="fa6-regular:square-plus" class="icon text-lg line-height-1"></iconify-icon>
                Add Shift
              </button>

              <div class="mt-32" id="todayShiftsList">
                <div class="text-center py-3">
                  <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                    </div>
                  <p class="mt-2 text-secondary-light text-sm">Loading today's shifts...</p>
                </div>
              </div>

            </div>
          </div>
        </div>
        <div class="col-xxl-9 col-lg-8">
          <div class="card h-100 p-0">
            <div class="card-body p-24">
              <div id='wrap'>
                <div id='calendar'></div>
                <div style='clear:both'></div>
              </div>
            </div>
          </div>
        </div>
      </div>


      <!-- Modal Add Event -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog modal-dialog-centered">
          <div class="modal-content radius-16 bg-base">
            <div class="modal-header py-16 px-24 border border-top-0 border-start-0 border-end-0">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Add New Shift</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-24">
              <form id="addEventForm">
                <div class="row">
                  <div class="col-12 mb-20">
                    <label class="form-label fw-semibold text-primary-light text-sm mb-8">Shift Title : </label>
                    <input type="text" class="form-control radius-8" id="eventTitle" placeholder="Enter Shift Title " required>
                  </div>
                  <div class="col-md-6 mb-20">
                    <label for="startDate" class="form-label fw-semibold text-primary-light text-sm mb-8">Start
                      Date</label>
                    <div class=" position-relative">
                      <input class="form-control radius-8 bg-base" id="startDate" type="text"
                        placeholder="03/12/2024, 10:30 AM">
                      <span class="position-absolute end-0 top-50 translate-middle-y me-12 line-height-1"><iconify-icon
                          icon="solar:calendar-linear" class="icon text-lg"></iconify-icon></span>
                    </div>
                  </div>
                  <div class="col-md-6 mb-20">
                    <label for="endDate" class="form-label fw-semibold text-primary-light text-sm mb-8">End Date
                    </label>
                    <div class=" position-relative">
                      <input class="form-control radius-8 bg-base" id="endDate" type="text"
                        placeholder="03/12/2024, 2:30 PM">
                      <span class="position-absolute end-0 top-50 translate-middle-y me-12 line-height-1"><iconify-icon
                          icon="solar:calendar-linear" class="icon text-lg"></iconify-icon></span>
                    </div>
                  </div>
                  <div class="col-12 mb-20">
                    <label for="endDate" class="form-label fw-semibold text-primary-light text-sm mb-8">Label </label>
                    <div class="d-flex align-items-center flex-wrap gap-28">
                      <div class="form-check checked-success d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="Personal">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="Personal">
                          <span class="w-8-px h-8-px bg-success-600 rounded-circle"></span>
                          Personal
                        </label>
                      </div>
                      <div class="form-check checked-primary d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="Business">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="Business">
                          <span class="w-8-px h-8-px bg-primary-600 rounded-circle"></span>
                          Business
                        </label>
                      </div>
                      <div class="form-check checked-warning d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="Family">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="Family">
                          <span class="w-8-px h-8-px bg-warning-600 rounded-circle"></span>
                          Family
                        </label>
                      </div>
                      <div class="form-check checked-secondary d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="Important">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="Important">
                          <span class="w-8-px h-8-px bg-lilac-600 rounded-circle"></span>
                          Important
                        </label>
                      </div>
                      <div class="form-check checked-danger d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="Holiday">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="Holiday">
                          <span class="w-8-px h-8-px bg-danger-600 rounded-circle"></span>
                          Holiday
                        </label>
                      </div>
                    </div>
                  </div>

                  <div class="col-12 mb-20">
                    <label for="desc" class="form-label fw-semibold text-primary-light text-sm mb-8">Description</label>
                    <textarea class="form-control" id="desc" rows="4" cols="50"
                      placeholder="Write some text"></textarea>
                  </div>

                  <div class="d-flex align-items-center justify-content-center gap-3 mt-24">
                    <button type="reset"
                      class="border border-danger-600 bg-hover-danger-200 text-danger-600 text-md px-40 py-11 radius-8">
                      Cancel
                    </button>
                    <button type="submit"
                      class="btn btn-primary border border-primary-600 text-md px-24 py-12 radius-8">
                      Save
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal View Event -->
      <div class="modal fade" id="exampleModalView" tabindex="-1" aria-labelledby="exampleModalViewLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog modal-dialog-centered">
          <div class="modal-content radius-16 bg-base">
            <div class="modal-header py-16 px-24 border border-top-0 border-start-0 border-end-0">
              <h1 class="modal-title fs-5" id="exampleModalViewLabel">View Details</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-24">
              <div class="mb-12">
                <span class="text-secondary-light txt-sm fw-medium">Title</span>
                <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4">Design Conference</h6>
              </div>
              <div class="mb-12">
                <span class="text-secondary-light txt-sm fw-medium">Start Date</span>
                <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4">25 Jan 2024, 10:30AM</h6>
              </div>
              <div class="mb-12">
                <span class="text-secondary-light txt-sm fw-medium">End Date</span>
                <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4">25 Jan 2024, 2:30AM</h6>
              </div>
              <div class="mb-12">
                <span class="text-secondary-light txt-sm fw-medium">Description</span>
                <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4">N/A</h6>
              </div>
              <div class="mb-12">
                <span class="text-secondary-light txt-sm fw-medium">Label</span>
                <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4 d-flex align-items-center gap-2">
                  <span class="w-8-px h-8-px bg-success-600 rounded-circle"></span>
                  Business
                </h6>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Edit Shift -->
      <div class="modal fade" id="exampleModalEdit" tabindex="-1" aria-labelledby="exampleModalEditLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog modal-dialog-centered">
          <div class="modal-content radius-16 bg-base">
            <div class="modal-header py-16 px-24 border border-top-0 border-start-0 border-end-0">
              <h1 class="modal-title fs-5" id="exampleModalEditLabel">Edit Shift</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-24">
              <form id="editEventForm">
                <input type="hidden" id="editEventId" value="">
                <div class="row">
                  <div class="col-12 mb-20">
                    <label class="form-label fw-semibold text-primary-light text-sm mb-8">Shift Title : </label>
                    <input type="text" class="form-control radius-8" id="editeventTitle" placeholder="Enter Shift Title " required>
                  </div>
                  <div class="col-md-6 mb-20">
                    <label for="editstartDate" class="form-label fw-semibold text-primary-light text-sm mb-8">Start
                      Date</label>
                    <div class=" position-relative">
                      <input class="form-control radius-8 bg-base" id="editstartDate" type="text"
                        placeholder="03/12/2024, 10:30 AM">
                      <span class="position-absolute end-0 top-50 translate-middle-y me-12 line-height-1"><iconify-icon
                          icon="solar:calendar-linear" class="icon text-lg"></iconify-icon></span>
                    </div>
                  </div>
                  <div class="col-md-6 mb-20">
                    <label for="editendDate" class="form-label fw-semibold text-primary-light text-sm mb-8">End Date
                    </label>
                    <div class=" position-relative">
                      <input class="form-control radius-8 bg-base" id="editendDate" type="text"
                        placeholder="03/12/2024, 2:30 PM">
                      <span class="position-absolute end-0 top-50 translate-middle-y me-12 line-height-1"><iconify-icon
                          icon="solar:calendar-linear" class="icon text-lg"></iconify-icon></span>
                    </div>
                  </div>
                  <div class="col-12 mb-20">
                    <label class="form-label fw-semibold text-primary-light text-sm mb-8">Label </label>
                    <div class="d-flex align-items-center flex-wrap gap-28">
                      <div class="form-check checked-success d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="editPersonal">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="editPersonal">
                          <span class="w-8-px h-8-px bg-success-600 rounded-circle"></span>
                          Personal
                        </label>
                      </div>
                      <div class="form-check checked-primary d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="editBusiness">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="editBusiness">
                          <span class="w-8-px h-8-px bg-primary-600 rounded-circle"></span>
                          Business
                        </label>
                      </div>
                      <div class="form-check checked-warning d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="editFamily">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="editFamily">
                          <span class="w-8-px h-8-px bg-warning-600 rounded-circle"></span>
                          Family
                        </label>
                      </div>
                      <div class="form-check checked-secondary d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="editImportant">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="editImportant">
                          <span class="w-8-px h-8-px bg-lilac-600 rounded-circle"></span>
                          Important
                        </label>
                      </div>
                      <div class="form-check checked-danger d-flex align-items-center gap-2">
                        <input class="form-check-input" type="radio" name="label" id="editHoliday">
                        <label
                          class="form-check-label line-height-1 fw-medium text-secondary-light text-sm d-flex align-items-center gap-1"
                          for="editHoliday">
                          <span class="w-8-px h-8-px bg-danger-600 rounded-circle"></span>
                          Holiday
                        </label>
                      </div>
                    </div>
                  </div>

                  <div class="col-12 mb-20">
                    <label for="desc" class="form-label fw-semibold text-primary-light text-sm mb-8">Description</label>
                    <textarea class="form-control" id="editdesc" rows="4" cols="50"
                      placeholder="Write some text"></textarea>
                  </div>

                  <div class="d-flex align-items-center justify-content-center gap-3 mt-24">
                    <button type="reset"
                      class="border border-danger-600 bg-hover-danger-200 text-danger-600 text-md px-40 py-11 radius-8">
                      Cancel
                    </button>
                    <button type="submit"
                      class="btn btn-primary border border-primary-600 text-md px-24 py-12 radius-8">
                      Save
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Delete Event -->
      <div class="modal fade" id="exampleModalDelete" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-dialog modal-dialog-centered">
          <div class="modal-content radius-16 bg-base">
            <div class="modal-body p-24 text-center">
              <span class="mb-16 fs-1 line-height-1 text-danger">
                <iconify-icon icon="fluent:delete-24-regular" class="menu-icon"></iconify-icon>
              </span>
              <h6 class="text-lg fw-semibold text-primary-light mb-0">Are your sure you want to delete this event</h6>
              <div class="d-flex align-items-center justify-content-center gap-3 mt-24">
                <button type="reset"
                  class="w-50 border border-danger-600 bg-hover-danger-200 text-danger-600 text-md px-40 py-11 radius-8">
                  Cancel
                </button>
                <button type="button"
                  class="w-50 btn btn-primary border border-primary-600 text-md px-24 py-12 radius-8">
                  Delete
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="d-footer">
      <div class="row align-items-center justify-content-between">
        <div class="col-auto">
          <p class="mb-0">© 2024 MaxiCare Admin Booking. All Rights Reserved.</p>
        </div>
        <div class="col-auto">
          <p class="mb-0">Made by <span class="text-primary-600">MaxiCare Team</span></p>
        </div>
      </div>
    </footer>
  </main>

  <!-- jQuery library js -->
  <script src="assets/js/lib/jquery-3.7.1.min.js"></script>
  <!-- Bootstrap js -->
  <script src="assets/js/lib/bootstrap.bundle.min.js"></script>
  <!-- Apex Chart js -->
  <script src="assets/js/lib/apexcharts.min.js"></script>
  <!-- Data Table js -->
  <script src="assets/js/lib/dataTables.min.js"></script>
  <!-- Iconify Font js -->
  <script src="assets/js/lib/iconify-icon.min.js"></script>
  <!-- jQuery UI js -->
  <script src="assets/js/lib/jquery-ui.min.js"></script>
  <!-- Vector Map js -->
  <script src="assets/js/lib/jquery-jvectormap-2.0.5.min.js"></script>
  <script src="assets/js/lib/jquery-jvectormap-world-mill-en.js"></script>
  <!-- Popup js -->
  <script src="assets/js/lib/magnifc-popup.min.js"></script>
  <!-- Slick Slider js -->
  <script src="assets/js/lib/slick.min.js"></script>
  <!-- prism js -->
  <script src="assets/js/lib/prism.js"></script>
  <!-- file upload js -->
  <script src="assets/js/lib/file-upload.js"></script>
  <!-- audioplayer -->
  <script src="assets/js/lib/audioplayer.js"></script>

  <!-- FullCalendar Library -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>

  <!-- main js -->
  <script src="assets/js/app.js"></script>

  <script src="assets/js/flatpickr.js"></script>

  <!-- API and Mock Data Scripts -->

  <script src="assets/js/api.js"></script>
  <script src="assets/js/auth.js"></script>

  <script>
    // Calendar and shift management
    let calendar;
    let userShifts = [];
    let availableShifts = [];

    // Initialize calendar on page load
    document.addEventListener('DOMContentLoaded', async function() {
      // Check authentication
      if (!authService.requireAuth()) {
          return;
        }

      // Add logout functionality
      document.getElementById('logoutBtn')?.addEventListener('click', async function() {
        await authService.logout();
        window.location.href = 'sign-in.html';
      });

        // Initialize calendar
      await initializeCalendar();
        
        // Load shifts data
      await loadShiftsData();

      // Initialize date pickers
      initializeDatePickers();
    });

    async function initializeCalendar() {
      const calendarEl = document.getElementById('calendar');
      
      calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'dayGridMonth,timeGridWeek,timeGridDay'
        },
        events: [],
        eventClick: function(info) {
          showShiftDetails(info.event);
        },
        dateClick: function(info) {
          if (authService.isAdmin()) {
            showCreateShiftModal(info.dateStr);
          }
        },
        eventDidMount: function(info) {
          // Add custom styling based on shift status
          if (info.event.extendedProps.status === 'completed') {
            info.el.style.backgroundColor = '#28a745';
          } else if (info.event.extendedProps.status === 'in-progress') {
            info.el.style.backgroundColor = '#ffc107';
          } else if (info.event.extendedProps.status === 'available') {
            info.el.style.backgroundColor = '#17a2b8';
          }
        }
      });

      calendar.render();
    }

    async function loadShiftsData() {
      try {
        console.log('Loading shifts data...');
        if (authService.isAdmin()) {
          // Load all shifts for admin
        const response = await maxicareAPI.getShifts();
          console.log('Admin shifts response:', response);
          if (response.status) {
            userShifts = response.data;
            updateCalendarEvents();
          }
        } else {
          // Load user's shifts for employee
          const userShiftsResponse = await maxicareAPI.getUserShifts();
          console.log('User shifts response:', userShiftsResponse);
          if (userShiftsResponse.status) {
            userShifts = userShiftsResponse.data;
          }

          // Load available shifts
          const availableShiftsResponse = await maxicareAPI.getAvailableShifts();
          console.log('Available shifts response:', availableShiftsResponse);
          if (availableShiftsResponse.status) {
            availableShifts = availableShiftsResponse.data;
          }

          updateCalendarEvents();
          updateShiftList();
        }
      } catch (error) {
        console.error('Error loading shifts data:', error);
      }
    }

    function updateCalendarEvents() {
      const events = [];

      // Add user's shifts
      userShifts.forEach(shift => {
        events.push({
          id: `shift-${shift.id}`,
          title: shift.title,
          start: `${shift.date}T${shift.startTime}`,
          end: `${shift.date}T${shift.endTime}`,
          className: getShiftClassName(shift.status),
          extendedProps: {
            shift: shift,
            type: 'user-shift'
          }
        });
      });

      // Add available shifts for employees
      if (authService.isEmployee()) {
        availableShifts.forEach(shift => {
          events.push({
            id: `available-${shift.id}`,
            title: `${shift.title} (Available)`,
            start: `${shift.date}T${shift.startTime}`,
            end: `${shift.date}T${shift.endTime}`,
            className: 'info',
            extendedProps: {
              shift: shift,
              type: 'available-shift'
            }
          });
        });
      }

      calendar.removeAllEvents();
      calendar.addEventSource(events);
    }

    function getShiftClassName(status) {
      switch (status) {
        case 'completed': return 'success';
        case 'in-progress': return 'important';
        case 'scheduled': return 'info';
        case 'available': return 'chill';
        default: return 'default';
      }
    }

    function getShiftColor(status) {
      switch (status) {
        case 'completed': return '#28a745';
        case 'in-progress': return '#ffc107';
        case 'scheduled': return '#007bff';
        case 'available': return '#17a2b8';
        default: return '#6c757d';
      }
    }

    function updateShiftList() {
      const shiftList = document.getElementById('todayShiftsList');
      if (!shiftList) return;

      // Clear existing content
      shiftList.innerHTML = '';

      // Add today's shifts
      const today = new Date().toISOString().split('T')[0];
      const todayShifts = userShifts.filter(shift => shift.date === today);

      if (todayShifts.length === 0) {
        shiftList.innerHTML = `
          <div class="text-center py-3">
            <iconify-icon icon="solar:calendar-outline" class="icon text-2xl text-secondary-light mb-2"></iconify-icon>
            <p class="text-secondary-light text-sm mb-0">No shifts scheduled for today</p>
          </div>
        `;
        return;
      }

      todayShifts.forEach(shift => {
        const shiftElement = createShiftListItem(shift);
        shiftList.appendChild(shiftElement);
      });
    }

    function createShiftListItem(shift) {
      const div = document.createElement('div');
      div.className = 'event-item d-flex align-items-center justify-content-between gap-4 pb-16 mb-16 border border-start-0 border-end-0 border-top-0';
      
      div.innerHTML = `
        <div>
          <div class="d-flex align-items-center gap-10">
            <span class="w-12-px h-12-px ${getShiftColor(shift.status)} rounded-circle fw-medium"></span>
            <span class="text-secondary-light">${formatShiftTime(shift)}</span>
          </div>
          <span class="text-primary-light fw-semibold text-md mt-4">${shift.title}</span>
        </div>
        <div class="dropdown">
          <button type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <iconify-icon icon="entypo:dots-three-vertical" class="icon text-secondary-light"></iconify-icon>
          </button>
          <ul class="dropdown-menu p-12 border bg-base shadow">
            <li>
              <button type="button" class="dropdown-item px-16 py-8 rounded text-secondary-light bg-hover-neutral-200 text-hover-neutral-900 d-flex align-items-center gap-10" onclick="showShiftDetails(${shift.id})">
                <iconify-icon icon="hugeicons:view" class="icon text-lg line-height-1"></iconify-icon>
                View
              </button>
            </li>
            ${authService.isEmployee() ? `
            <li>
              <button type="button" class="dropdown-item px-16 py-8 rounded text-secondary-light bg-hover-neutral-200 text-hover-neutral-900 d-flex align-items-center gap-10" onclick="clockInOut(${shift.id})">
                <iconify-icon icon="solar:clock-circle-outline" class="icon text-lg line-height-1"></iconify-icon>
                Clock ${shift.status === 'in-progress' ? 'Out' : 'In'}
              </button>
            </li>
            ` : ''}
          </ul>
        </div>
      `;
      
      return div;
    }

    function formatShiftTime(shift) {
      const startTime = new Date(`${shift.date}T${shift.startTime}`).toLocaleString();
      const endTime = new Date(`${shift.date}T${shift.endTime}`).toLocaleString();
      return `${startTime} - ${endTime}`;
    }

    function showShiftDetails(shiftId) {
      const shift = userShifts.find(s => s.id === shiftId);
      if (!shift) return;

      // Update modal content
      document.querySelector('#exampleModalViewLabel').textContent = 'Shift Details';
      document.querySelector('#exampleModalView .modal-body').innerHTML = `
        <div class="mb-12">
          <span class="text-secondary-light txt-sm fw-medium">Title</span>
          <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4">${shift.title}</h6>
        </div>
        <div class="mb-12">
          <span class="text-secondary-light txt-sm fw-medium">Date</span>
          <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4">${new Date(shift.date).toLocaleDateString()}</h6>
        </div>
        <div class="mb-12">
          <span class="text-secondary-light txt-sm fw-medium">Start Time</span>
          <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4">${shift.startTime}</h6>
        </div>
        <div class="mb-12">
          <span class="text-secondary-light txt-sm fw-medium">End Time</span>
          <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4">${shift.endTime}</h6>
        </div>
        <div class="mb-12">
          <span class="text-secondary-light txt-sm fw-medium">Status</span>
          <h6 class="text-primary-light fw-semibold text-md mb-0 mt-4 d-flex align-items-center gap-2">
            <span class="w-8-px h-8-px ${getShiftColor(shift.status)} rounded-circle"></span>
            ${shift.status}
          </h6>
        </div>
      `;

      // Show modal
      const modal = new bootstrap.Modal(document.getElementById('exampleModalView'));
      modal.show();
    }

    async function clockInOut(shiftId) {
      try {
        const shift = userShifts.find(s => s.id === shiftId);
        if (!shift) return;

        if (shift.status === 'scheduled') {
          // Clock in
          const result = await maxicareAPI.clockIn(shiftId, 0, 0); // Using 0,0 for lat/lon for now
          if (result.success) {
            alert('Clocked in successfully!');
            await loadShiftsData();
          }
        } else if (shift.status === 'in-progress') {
          // Clock out
          const note = prompt('Add a note (optional):');
          const result = await maxicareAPI.clockOut(shiftId, note || '');
          if (result.success) {
            alert('Clocked out successfully!');
            await loadShiftsData();
          }
        }
      } catch (error) {
        alert('Error: ' + error.message);
      }
    }

    function showCreateShiftModal(date) {
      // This would show a modal for creating new shifts (admin only)
      console.log('Create shift for date:', date);
    }

    // Flat pickr or date picker js 
    function initializeDatePickers() {
    function getDatePicker(receiveID) {
      flatpickr(receiveID, {
        enableTime: true,
        dateFormat: "d/m/Y H:i",
      });
    }
    getDatePicker('#startDate');
    getDatePicker('#endDate');
    getDatePicker('#editstartDate');
    getDatePicker('#editendDate');
    }

    // Apply role-based access control
    function applyRoleBasedAccess() {
      const currentUser = authService.getCurrentUser();
      if (!currentUser) {
        // Redirect to login if no user
        window.location.href = 'sign-in.html';
        return;
      }

      const isAdmin = currentUser.role === 'admin';
      const isUser = currentUser.role === 'user' || currentUser.role === 'employee';

      // Show/hide admin-only elements
      const adminElements = document.querySelectorAll('.admin-only');
      adminElements.forEach(element => {
        element.style.display = isAdmin ? 'block' : 'none';
      });

      // Show/hide employee-only elements
      const employeeElements = document.querySelectorAll('.employee-only');
      employeeElements.forEach(element => {
        element.style.display = isUser ? 'block' : 'none';
      });

      // Update user info in dropdown
      const userNameElement = document.querySelector('.user-name');
      const userRoleElement = document.querySelector('.user-role');
      if (userNameElement) userNameElement.textContent = `${currentUser.firstname} ${currentUser.lastname}`;
      if (userRoleElement) userRoleElement.textContent = currentUser.role.charAt(0).toUpperCase() + currentUser.role.slice(1);
    }

    // Initialize role-based access when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      applyRoleBasedAccess();
    });

  </script>


  <script>
    // Notification functions
    async function loadNotifications() {
      try {
        console.log('Loading notifications...');
        
        // Load unread count
        const countResponse = await maxicareAPI.getUnreadNotificationCount();
        if (countResponse && countResponse.status) {
          const countEl = document.getElementById('notificationCount');
          if (countEl) {
            countEl.textContent = countResponse.data.count;
          }
        }

        // Load recent notifications
        const notificationsResponse = await maxicareAPI.getNotifications(1, 5);
        if (notificationsResponse && notificationsResponse.status) {
          updateNotificationsList(notificationsResponse.data.notifications);
        } else {
          showNoNotificationsMessage();
        }
      } catch (error) {
        console.error('Error loading notifications:', error);
        showNoNotificationsMessage();
      }
    }

    function updateNotificationsList(notifications) {
      const notificationsList = document.getElementById('notificationsList');
      if (!notificationsList) return;

      if (notifications.length === 0) {
        showNoNotificationsMessage();
        return;
      }

      notificationsList.innerHTML = notifications.map(notification => `
        <a href="javascript:void(0)" 
           class="px-24 py-12 d-flex align-items-start gap-3 mb-2 justify-content-between ${notification.isRead ? '' : 'bg-neutral-50'}"
           onclick="markNotificationAsRead(${notification.id})">
          <div class="text-black hover-bg-transparent hover-text-primary d-flex align-items-center gap-3">
            <span class="w-44-px h-44-px ${getNotificationIconClass(notification.type)} rounded-circle d-flex justify-content-center align-items-center flex-shrink-0">
              <iconify-icon icon="${getNotificationIcon(notification.type)}" class="icon text-xxl"></iconify-icon>
            </span>
            <div>
              <h6 class="text-md fw-semibold mb-4">${notification.title}</h6>
              <p class="mb-0 text-sm text-secondary-light text-w-200-px">${notification.message}</p>
            </div>
          </div>
          <span class="text-sm text-secondary-light flex-shrink-0">${formatTimeAgo(notification.createdAt)}</span>
        </a>
      `).join('');
    }

    function showNoNotificationsMessage() {
      const notificationsList = document.getElementById('notificationsList');
      if (!notificationsList) return;

      notificationsList.innerHTML = `
        <div class="text-center py-4">
          <iconify-icon icon="solar:bell-outline" class="icon text-4xl text-secondary-light mb-2"></iconify-icon>
          <p class="text-secondary-light mb-0">No notifications</p>
        </div>
      `;
    }

    function getNotificationIcon(type) {
      const iconMap = {
        'shift_assigned': 'solar:clock-circle-outline',
        'shift_completed': 'solar:check-circle-outline',
        'shift_cancelled': 'solar:close-circle-outline',
        'user_registered': 'solar:user-plus-outline',
        'system_announcement': 'solar:megaphone-outline',
        'shift_reminder': 'solar:alarm-outline',
        'payment_processed': 'solar:wallet-outline',
        'profile_updated': 'solar:user-outline',
        'password_changed': 'solar:lock-outline',
        'login_attempt': 'solar:login-3-outline'
      };
      return iconMap[type] || 'solar:bell-outline';
    }

    function getNotificationIconClass(type) {
      const classMap = {
        'shift_assigned': 'bg-primary-subtle text-primary-main',
        'shift_completed': 'bg-success-subtle text-success-main',
        'shift_cancelled': 'bg-danger-subtle text-danger-main',
        'user_registered': 'bg-info-subtle text-info-main',
        'system_announcement': 'bg-warning-subtle text-warning-main',
        'shift_reminder': 'bg-warning-subtle text-warning-main',
        'payment_processed': 'bg-success-subtle text-success-main',
        'profile_updated': 'bg-info-subtle text-info-main',
        'password_changed': 'bg-warning-subtle text-warning-main',
        'login_attempt': 'bg-info-subtle text-info-main'
      };
      return classMap[type] || 'bg-secondary-subtle text-secondary-main';
    }

    async function markNotificationAsRead(notificationId) {
      try {
        await maxicareAPI.markNotificationAsRead(notificationId);
        // Reload notifications to update the UI
        await loadNotifications();
      } catch (error) {
        console.error('Error marking notification as read:', error);
      }
    }

    function formatTimeAgo(dateString) {
      if (!dateString) return 'N/A';
      const date = new Date(dateString);
      const now = new Date();
      const diffInMinutes = Math.floor((now - date) / (1000 * 60));
      if (diffInMinutes < 1) return 'Just now';
      if (diffInMinutes < 60) return `${diffInMinutes}m ago`;
      if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;
      return `${Math.floor(diffInMinutes / 1440)}d ago`;
    }
  </script>
</body>

</html>
